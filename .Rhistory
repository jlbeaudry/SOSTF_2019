scale_y_continuous(name = "Estimated percentage of reproducible studies") +
coord_cartesian(ylim = c(0,100))
ggsave(here::here("figs", "reprod_estimates_by_crisis_box.png"))
#calculating the RepEstimate_1 mean by crisis levels to double check this plot
df %>%
group_by(crisis) %>%
dplyr::summarise(mean=mean(RepEstimate_1, na.rm=TRUE))
#convert the crisis variable to a factor (fct)
#plus I'm also going to change the names of the levels
df$crisis <- factor(df$crisis)
str(df$crisis) #test to make sure it's reading it as a factor
df$crisis %>% mapvalues(
c("1", "2", "3", "4"),
c("Significant", "Slight", "No Crisis", "Don't Know")
)
str(df, list.len = ncol(df))
df$crisis
#convert the crisis variable to a factor (fct)
#plus I'm also going to change the names of the levels
df$crisis <- factor(df$crisis)
str(df$crisis) #test to make sure it's reading it as a factor
df$crisis <- factor(df$crisis)%>%
mapvalues(
c("1", "2", "3", "4"),
c("Significant", "Slight", "No Crisis", "Don't Know")
)
str(df, list.len = ncol(df))
View(df)
df$crisis
#convert the crisis variable to a factor (fct)
#plus I'm also going to change the names of the levels
#df$crisis <- factor(df$crisis)
#str(df$crisis) #test to make sure it's reading it as a factor
df$crisis <- factor(df$crisis)%>%
mapvalues(
c("1", "2", "3", "4"),
c("Significant", "Slight", "No Crisis", "Don't Know")
)
#estimates of reproducibility by levels of crisis as a stripchart
#and the !is.na removes NA from the crisis variable). This works fine, but I want
#a box plot rather than a mean line
p <- ggplot(data = subset(df, !is.na(crisis)),
aes(x=crisis, y=RepEstimate_1)) +
geom_jitter(position=position_jitter(height=0,width=.15),
fill="blue",
colour="blue",
size = 2.2,
alpha=.5) +
stat_summary(fun.y=mean,
fun.ymin=mean,
fun.ymax=mean,
geom='crossbar',
width=0.5) +
scale_x_discrete(name = "Do you think your field is experiencing a 'Reprodubility Crisis'?",
limits=c("4","3","2","1"),
labels=c("Don't Know", "No Crisis", "Slight", "Significant")) +
scale_y_continuous(name = "Estimated percentage of reproducible studies") +
coord_cartesian(ylim = c(0,100))
ggsave(here::here("figs", "reprod_estimates_by_crisis.png"))
str(df, list.len = ncol(df))
#estimates of reproducibility by levels of crisis as a stripchart
#and the !is.na removes NA from the crisis variable). This works fine, but I want
#a box plot rather than a mean line
p <- ggplot(data = subset(df, !is.na(crisis)),
aes(x=crisis, y=RepEstimate_1)) +
geom_jitter(position=position_jitter(height=0,width=.15),
fill="blue",
colour="blue",
size = 2.2,
alpha=.5) +
stat_summary(fun.y=mean,
fun.ymin=mean,
fun.ymax=mean,
geom='crossbar',
width=0.5) +
scale_x_discrete(name = "Do you think your field is experiencing a 'Reprodubility Crisis'?",
limits=c("4","3","2","1"),
labels=c("Don't Know", "No Crisis", "Slight", "Significant")) +
scale_y_continuous(name = "Estimated percentage of reproducible studies") +
coord_cartesian(ylim = c(0,100))
ggsave(here::here("figs", "reprod_estimates_by_crisis.png"))
df$crisis <- factor(df$crisis) %>%
mapvalues(
c("1", "2", "3", "4"),
c("Significant", "Slight", "No Crisis", "Don't Know")
)
str(df, list.len = ncol(df))
df$crisis
#estimates of reproducibility by levels of crisis as a stripchart
#and the !is.na removes NA from the crisis variable). This works fine, but I want
#a box plot rather than a mean line
p <- ggplot(data = subset(df, !is.na(crisis)),
aes(x=crisis, y=RepEstimate_1)) +
geom_jitter(position=position_jitter(height=0,width=.15),
fill="blue",
colour="blue",
size = 2.2,
alpha=.5) +
stat_summary(fun.y=mean,
fun.ymin=mean,
fun.ymax=mean,
geom='crossbar',
width=0.5) +
scale_x_discrete(name = "Do you think your field is experiencing a 'Reprodubility Crisis'?",
limits=c("4","3","2","1"),
labels=c("Don't Know", "No Crisis", "Slight", "Significant")) +
scale_y_continuous(name = "Estimated percentage of reproducible studies") +
coord_cartesian(ylim = c(0,100))
ggsave(here::here("figs", "reprod_estimates_by_crisis.png"))
#I want to use the legacy format data, but need to read it in.
library(plyr)
library(tidyverse)
library(here)
#Ling's 'read_qualtrics' function, modified to remove 'janitor_names'
read_qualtrics <- function(file, legacy = TRUE) {
a <- readr::read_csv(file)
if (legacy == FALSE) {
a <- a[3:nrow(a), ]
} else {
a <- a[2:nrow(a), ]
}
a %>% readr::type_convert(trim_ws = TRUE)
}
#pipe my function through the 'read_qualtrics' function
df <- here::here("data", "OS_Data_ID_Legacy.csv") %>% read_qualtrics()
p <- ggplot(data = subset(df, !is.na(crisis)),
aes(x=crisis, y=RepEstimate_1)) +
geom_jitter(position=position_jitter(height=0,width=.15),
fill="blue",
colour="blue",
size = 2.2,
alpha=.5) +
stat_summary(fun.y=mean,
fun.ymin=mean,
fun.ymax=mean,
geom='crossbar',
width=0.5) +
scale_x_discrete(name = "Do you think your field is experiencing a 'Reprodubility Crisis'?",
limits=c("4","3","2","1"),
labels=c("Don't Know", "No Crisis", "Slight", "Significant")) +
scale_y_continuous(name = "Estimated percentage of reproducible studies") +
coord_cartesian(ylim = c(0,100))
p + ggtitle("Estimates of reproducibility by perceived crisis in field")
ggsave(here::here("figs", "reprod_estimates_by_crisis.png"))
#calculating the RepEstimate_1 mean by crisis levels to double check this plot
df %>%
group_by(crisis) %>%
dplyr::summarise(mean=mean(RepEstimate_1, na.rm=TRUE))
#makes NAs explicit but I don't want that for now
forcats::fct_explicit_na
ggsave(here::here("figs", "reprod_estimates_by_crisis_box_size.png"))
p + ggtitle("Estimates of reproducibility by perceived crisis in field")
p + theme(base_size=22)
p + theme(text= element_text(size=rel(3.5)))
#trying to figure out text label sizes
my_theme = theme(
axis.title.x = element_text(size = 16),
axis.text.x = element_text(size = 14),
axis.title.y = element_text(size = 16)
)
p + my_theme
#setting text label sizes
my_theme = theme(
axis.title.x = element_text(size = 16),
axis.text.x = element_text(size = 14),
axis.title.y = element_text(size = 16)
)
#estimates of reproducibility by levels of crisis as a stripchart
#and the !is.na removes NA from the crisis variable). This works fine, but I want
#a box plot rather than a mean line
p <- ggplot(data = subset(df, !is.na(crisis)),
aes(x=crisis, y=RepEstimate_1)) +
geom_jitter(position=position_jitter(height=0,width=.15),
fill="blue",
colour="blue",
size = 2.2,
alpha=.5) +
stat_summary(fun.y=mean,
fun.ymin=mean,
fun.ymax=mean,
geom='crossbar',
width=0.5) +
scale_x_discrete(name = "Do you think your field is experiencing a 'Reprodubility Crisis'?",
limits=c("4","3","2","1"),
labels=c("Don't Know", "No Crisis", "Slight", "Significant")) +
scale_y_continuous(name = "Estimated %age of reproducible studies") +
coord_cartesian(ylim = c(0,100))
p + ggtitle("Estimates of reproducibility by perceived crisis in field")
p + my_theme
ggsave(here::here("figs", "reprod_estimates_by_crisis.png"))
p + ggtitle("Estimates of reproducibility by perceived crisis in field")
p + my_theme
my_theme = theme(
axis.title.x = element_text(size = 16),
axis.text.x = element_text(size = 14),
axis.title.y = element_text(size = 16),
title = element_text(size = 14)
)
p + ggtitle("Estimates of reproducibility by perceived crisis in field")
p + my_theme
p + my_theme
p + ggtitle("Estimates of reproducibility by perceived crisis in field")
?theme
my_theme = theme(
axis.title.x = element_text(size = 14),
axis.text.x = element_text(size = 14),
axis.title.y = element_text(size = 14),
plot.title = element_text(size = 14)
)
p + ggtitle("Estimates of reproducibility by perceived crisis in field")
p + my_theme
p <- ggplot(data = subset(df, !is.na(crisis)),
aes(x=crisis, y=RepEstimate_1)) +
geom_jitter(position=position_jitter(height=0,width=.15),
fill="blue",
colour="blue",
size = 2.2,
alpha=.5) +
stat_summary(fun.y=mean,
geom='crossbar',
width=0.5) +
scale_x_discrete(name = "Do you think your field is experiencing a 'Reprodubility Crisis'?",
limits=c("4","3","2","1"),
labels=c("Don't Know", "No Crisis", "Slight", "Significant")) +
scale_y_continuous(name = "Estimated %age of reproducible studies") +
coord_cartesian(ylim = c(0,100))
p + ggtitle("Estimates of reproducibility by perceived crisis in field")
p + my_theme
ggsave(here::here("figs", "reprod_estimates_by_crisis.png"))
#estimates of reproducibility by levels of crisis as a stripchart
#and the !is.na removes NA from the crisis variable). This works fine, but I want
#a box plot rather than a mean line
p <- ggplot(data = subset(df, !is.na(crisis)),
aes(x=crisis, y=RepEstimate_1)) +
geom_jitter(position=position_jitter(height=0,width=.15),
fill="blue",
colour="blue",
size = 2.2,
alpha=.5) +
stat_summary(fun.y=mean,
fun.ymin=mean,
fun.ymax=mean,
geom='crossbar',
width=0.5) +
scale_x_discrete(name = "Do you think your field is experiencing a 'Reprodubility Crisis'?",
limits=c("4","3","2","1"),
labels=c("Don't Know", "No Crisis", "Slight", "Significant")) +
scale_y_continuous(name = "Estimated %age of reproducible studies") +
coord_cartesian(ylim = c(0,100))
p + ggtitle("Estimates of reproducibility by perceived crisis in field")
p + my_theme
ggsave(here::here("figs", "reprod_estimates_by_crisis.png"))
p <- ggplot(data = subset(df, !is.na(crisis)),
aes(x=crisis, y=RepEstimate_1)) +
geom_jitter(position=position_jitter(height=0,width=.15),
fill="blue",
colour="blue",
size = 2.2,
alpha=.5) +
stat_summary(fun.y=mean,
fun.ymin=mean,
fun.ymax=mean,
geom='crossbar',
width=0.5) +
scale_x_discrete(#name = "Do you think your field is experiencing a 'Reprodubility Crisis'?",
limits=c("4","3","2","1"),
labels=c("Don't Know", "No Crisis", "Slight", "Significant")) +
# scale_y_continuous(name = "Estimated percentage of reproducible studies") +
coord_cartesian(ylim = c(0,100))
p + ggtitle("Estimates of reproducibility by perceived crisis in field") +
labs(x = "Do you think your field is experiencing a 'Reproducibility Crisis'?",
y = "Estimated percentage of reproducible studies")
ggsave(here::here("figs", "reprod_estimates_by_crisis_theme.png"))
my_theme = theme(
plot.title = element_text(size = 14),
axis.title.x = element_text(size = 14),
axis.text.x = element_text(size = 14),
axis.title.y = element_text(size = 14)
)
p2 <- ggplot(data = subset(df, !is.na(crisis)),
aes(x=crisis, y=RepEstimate_1)) +
geom_jitter(position=position_jitter(height=0,width=.15),
fill="blue",
colour="blue",
size = 2.2,
alpha=.5) +
stat_summary(fun.y=mean,
fun.ymin=mean,
fun.ymax=mean,
geom='crossbar',
width=0.5) +
scale_x_discrete(limits=c("4","3","2","1"),
labels=c("Don't Know", "No Crisis", "Slight", "Significant")) +
coord_cartesian(ylim = c(0,100))
p2 + ggtitle("Estimates of reproducibility by perceived crisis in field") +
labs(x = "Do you think your field is experiencing a 'Reproducibility Crisis'?",
y = "Estimated percentage of reproducible studies")
p2 + my_theme()
ggsave(here::here("figs", "reprod_estimates_by_crisis_theme.png"))
my_theme = theme(
plot.title = element_text(size = 14),
axis.title.x = element_text(size = 14),
axis.text.x = element_text(size = 14),
axis.title.y = element_text(size = 14)
)
p2 + my_theme
my_theme = theme(
plot.title = element_text(size = 12),
axis.title.x = element_text(size = 12),
axis.text.x = element_text(size = 12),
axis.title.y = element_text(size = 12)
)
p2 <- ggplot(data = subset(df, !is.na(crisis)),
aes(x=crisis, y=RepEstimate_1)) +
geom_jitter(position=position_jitter(height=0,width=.15),
fill="blue",
colour="blue",
size = 2.2,
alpha=.5) +
stat_summary(fun.y=mean,
fun.ymin=mean,
fun.ymax=mean,
geom='crossbar',
width=0.5) +
scale_x_discrete(limits=c("4","3","2","1"),
labels=c("Don't Know", "No Crisis", "Slight", "Significant")) +
coord_cartesian(ylim = c(0,100))
p2 + ggtitle("Estimates of reproducibility by perceived crisis in field") +
labs(x = "Do you think your field is experiencing a 'Reproducibility Crisis'?",
y = "Estimated percentage of reproducible studies")
p2 + my_theme
ggsave(here::here("figs", "reprod_estimates_by_crisis_theme.png"))
p2 <- ggplot(data = subset(df, !is.na(crisis)),
aes(x=crisis, y=RepEstimate_1)) +
geom_jitter(position=position_jitter(height=0,width=.15),
fill="blue",
colour="blue",
size = 2.2,
alpha=.5) +
stat_summary(fun.y=mean,
fun.ymin=mean,
fun.ymax=mean,
geom='crossbar',
width=0.5) +
scale_x_discrete(limits=c("4","3","2","1"),
labels=c("Don't Know", "No Crisis", "Slight", "Significant")) +
coord_cartesian(ylim = c(0,100))
p2 + ggtitle("Estimates of reproducibility by perceived crisis in field") +
labs(x = "Do you think your field is experiencing a 'Reproducibility Crisis'?",
y = "Estimated percentage of reproducible studies")
#p2 + my_theme
ggsave(here::here("figs", "reprod_estimates_by_crisis_theme.png"))
df %>%
group_by(crisis) %>%
dplyr::summarise(mean=mean(RepEstimate_1, na.rm=TRUE))
p2 + theme_apa()
install.package("jtools")
install.packages("jtools")
library(jtools)
p2 + theme_apa()
p2 <- ggplot(data = subset(df, !is.na(crisis)),
aes(x=crisis, y=RepEstimate_1)) +
geom_jitter(position=position_jitter(height=0,width=.15),
fill="blue",
colour="blue",
size = 2.2,
alpha=.5) +
stat_summary(fun.y=mean,
fun.ymin=mean,
fun.ymax=mean,
geom='crossbar',
width=0.5) +
scale_x_discrete(name = "Do you think your field is experiencing a 'Reproducibility Crisis'?",
limits=c("4","3","2","1"),
labels=c("Don't Know", "No Crisis", "Slight", "Significant")) +
scale_y_continuous(name = "Estimated percentage of reproducible studies")
coord_cartesian(ylim = c(0,100))
p2 + ggtitle("Estimates of reproducibility by perceived crisis in field")
#labs(x = "Do you think your field is experiencing a 'Reproducibility Crisis'?",
# y = "Estimated percentage of reproducible studies")
p2 + theme_apa() #so this works! but, the labels are still gone....
p2 + theme_apa(base_size = 12)
#labs(x = "Do you think your field is experiencing a 'Reproducibility Crisis'?",
# y = "Estimated percentage of reproducible studies")
p2 + theme_apa(base_size = 13) #so this works, but only when I put the names back in scales, rather
?theme_apa
#labs(x = "Do you think your field is experiencing a 'Reproducibility Crisis'?",
# y = "Estimated percentage of reproducible studies")
p2 + theme_apa(x.font.size = 13, y.font.size = 13) #so this works, but only when I put the names back in scales, rather
#labs(x = "Do you think your field is experiencing a 'Reproducibility Crisis'?",
# y = "Estimated percentage of reproducible studies")
p2 + theme_apa(x.font.size = 13, y.font.size = 13, facet.title.size = 12) #so this works, but only when I put the names back in scales, rather
#labs(x = "Do you think your field is experiencing a 'Reproducibility Crisis'?",
# y = "Estimated percentage of reproducible studies")
p2 + theme_apa(x.font.size = 13, y.font.size = 13) #so this works, but only when I put the names back in scales, rather
#labs(x = "Do you think your field is experiencing a 'Reproducibility Crisis'?",
# y = "Estimated percentage of reproducible studies")
p2 + theme_apa(x.font.size = 14, y.font.size = 13) #so this works, but only when I put the names back in scales, rather
#labs(x = "Do you think your field is experiencing a 'Reproducibility Crisis'?",
# y = "Estimated percentage of reproducible studies")
p2 + theme_apa(x.font.size = 12, y.font.size = 13) #so this works, but only when I put the names back in scales, rather
#labs(x = "Do you think your field is experiencing a 'Reproducibility Crisis'?",
# y = "Estimated percentage of reproducible studies")
p2 + theme_apa(x.font.size = 12, y.font.size = 12) #so this works, but only when I put the names back in scales, rather
p2 + theme(axis.text = element_text(size = 12))#so this works, but only when I put the names back in scales, rather
#labs(x = "Do you think your field is experiencing a 'Reproducibility Crisis'?",
# y = "Estimated percentage of reproducible studies")
p2 + theme_apa(x.font.size = 13, y.font.size = 13)
#labs(x = "Do you think your field is experiencing a 'Reproducibility Crisis'?",
# y = "Estimated percentage of reproducible studies")
p2 + theme_apa(x.font.size = 10, y.font.size = 10) #I cannot use this and increase the size
#labs(x = "Do you think your field is experiencing a 'Reproducibility Crisis'?",
# y = "Estimated percentage of reproducible studies")
p2 + theme_apa(x.font.size = 12, y.font.size = 12) #I cannot use this and increase the size
#labs(x = "Do you think your field is experiencing a 'Reproducibility Crisis'?",
# y = "Estimated percentage of reproducible studies")
p2 + theme_classic #I cannot use this and increase the size
#labs(x = "Do you think your field is experiencing a 'Reproducibility Crisis'?",
# y = "Estimated percentage of reproducible studies")
p2 + theme_classic() #I cannot use this and increase the size
?theme_classic
#labs(x = "Do you think your field is experiencing a 'Reproducibility Crisis'?",
# y = "Estimated percentage of reproducible studies")
p2 + theme_classic(base_size = 12) #I cannot use this and increase the size
p2 <- ggplot(data = subset(df, !is.na(crisis)),
aes(x=crisis, y=RepEstimate_1)) +
geom_jitter(position=position_jitter(height=0,width=.15),
fill="blue",
colour="blue",
size = 2.2,
alpha=.5) +
stat_summary(fun.y=mean,
fun.ymin=mean,
fun.ymax=mean,
geom='crossbar',
width=0.5) +
scale_x_discrete(name = "Do you think your field is experiencing a 'Reproducibility Crisis'?",
limits=c("4","3","2","1"),
labels=c("Don't Know", "No Crisis", "Slight", "Significant")) +
scale_y_continuous(name = "Estimated percentage of reproducible studies")
coord_cartesian(ylim = c(0,100))
#labs(x = "Do you think your field is experiencing a 'Reproducibility Crisis'?",
# y = "Estimated percentage of reproducible studies")
p2 + theme_classic(base_size = 12) #I cannot use this and increase the size
#of the labels for the x values, but it works.
ggsave(here::here("figs", "reprod_estimates_by_crisis.png"))
install.packages(c("here", "plyr", "readr", "tidyverse"))
#Ling's 'read_qualtrics' function, modified to remove 'janitor_names'
read_qualtrics <- function(file, legacy = TRUE) {
a <- readr::read_csv(file)
if (legacy == FALSE) {
a <- a[3:nrow(a), ]
} else {
a <- a[2:nrow(a), ]
}
a %>% readr::type_convert(trim_ws = TRUE)
}
#pipe my function through the 'read_qualtrics' function
df <- here::here("data", "OS_Data_ID_Legacy.csv") %>% read_qualtrics()
library(plyr)
library(tidyverse)
library(here)
#Ling's 'read_qualtrics' function, modified to remove 'janitor_names'
read_qualtrics <- function(file, legacy = TRUE) {
a <- readr::read_csv(file)
if (legacy == FALSE) {
a <- a[3:nrow(a), ]
} else {
a <- a[2:nrow(a), ]
}
a %>% readr::type_convert(trim_ws = TRUE)
}
#pipe my function through the 'read_qualtrics' function
df <- here::here("data", "OS_Data_ID_Legacy.csv") %>% read_qualtrics()
library(tidyverse)
library(here)
library(plyr)
library(ggbeeswarm)
library(skimr)
library(ggridges)
install.packages(c("ggbeeswarm", "ggridges", "skimr"))
install.packages("jtools")
mpg
ggplot(data = mpg, mapping =
aes (x = displ, y = hwy))
ggplot(data = mpg) +
geom_point(mapping =
aes(x = displ, y = hwy))
summary(hwy)
summary(mpg$hwy)
count(mpg$hwy)
mpg$hwy
mpg
cyl4 <- filter(mpg, cyl == 4)
cyl4 <- filter(mpg, cyl == 4) %>%
cyl4
filter(mpg, cyl == 4) %>%
ggplot(data = mpg) +
geom_point(mapping =
aes(x = displ, y = hwy))
filter(mpg, cyl == 4)
cyl4 <- filter(mpg, cyl == 4)
cyl4 <- filter(mpg, cyl == 4) %>%
ggplot(data = cyl4) +
geom_point(mapping =
aes(x = displ, y = hwy))
ggplot(data = mpg) +
geom_point(mapping =
aes(x = displ, y = hwy))
ggplot(data = cyl4) +
geom_point(mapping =
aes(x = displ, y = hwy))
