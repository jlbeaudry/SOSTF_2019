#I want to use the legacy format data, but need to read it in.

library(plyr)
library(tidyverse)
library(here)


#Ling's 'read_qualtrics' function, modified to remove 'janitor_names'
read_qualtrics <- function(file, legacy = TRUE) {
  a <- readr::read_csv(file)
  if (legacy == FALSE) {
    a <- a[3:nrow(a), ]
  } else {
    a <- a[2:nrow(a), ]
  }
  a %>% readr::type_convert(trim_ws = TRUE)
}

#pipe my function through the 'read_qualtrics' function
df <- here::here("data", "OS_Data_ID_Legacy.csv") %>% read_qualtrics()

str(df, list.len = ncol(df)) #allows me to see the column types for all variables
  #&prevents it from being truncated
#problems(df)
#pec(df) #shows me the column types, but for some reason this isn't working
#cols(df) gives me an error that I shouldn't get re "some 'col_types' are not 
  #S3 collector objects: 1" --> there is some sort of problem with the list of 
  #column names as far as I can tell, but this will be NEXT STEP!



